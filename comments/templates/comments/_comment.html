{# comments/_comment.html #}
<li style="margin-bottom: 12px; padding-left: {{ level|default:0 }}px;">
    <div style="padding: 12px; background: #f9f9f9; border-radius: 6px; border-left: 3px solid #2196f3;">
        <div style="margin-bottom: 8px;">
            <strong>User {{ comment.user_id }}</strong>
            <small style="color: #999; margin-left: 8px;">{{ comment.created_at|date:"Y-m-d H:i" }}</small>
        </div>
        <p style="margin: 0 0 10px 0; white-space: pre-wrap; line-height: 1.5;">{{ comment.content }}</p>
        
        <!-- Reply form -->
        <form method="post" action="{% url 'posts:add-comment' post.id comment.id %}" style="margin-top: 8px; display: flex; gap: 8px;">
            {% csrf_token %}
            <input 
                type="text" 
                name="content" 
                placeholder="Reply..." 
                required
                style="flex: 1; padding: 6px 10px; font-size: 13px; border: 1px solid #ddd; border-radius: 4px;"
            >
            <button 
                type="submit"
                style="padding: 6px 12px; background: #2196f3; color: white; border: none; border-radius: 4px; font-size: 13px; cursor: pointer;"
            >
                Reply
            </button>
        </form>
    </div>

    {% if comment.children %}
        <ul style="list-style: none; padding-left: 20px; margin-top: 8px;">
            {% for child in comment.children %}
                {% include 'comments/_comment.html' with comment=child level=level|add:20 %}
            {% endfor %}
        </ul>
    {% endif %}
</li>
